%% Sort

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Dependencies
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ?- ['02.member'].
%% ?- ['04.sorted'].
%% ?- ['07.perm'].

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Solution
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% 1
sort1(L,S) :- perm(L,S), sorted(S).

%% 2
min(L,X) :- member(L,X), not((member(L,Y), Y < X)).
remove(L,X,R) :- append(LL, [X|LR], L), append(LL, LR, R).

sort2(L,L).
sort2(L,[X|S]) :- min(L,X), remove(L,X,Q), sort2(Q,S).

%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Tests
%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

?- sort1([],[]).
?- sort1([4],[4]).
?- sort1([4,3,2,1],[1,2,3,4]).
?- sort1([1,2,3,4],[1,2,3,4]).
?- sort1([4,3,17,5],[3,4,5,17]).

?- remove([1,2,3,4], 1, [2,3,4]).
?- remove([1,2,3,4], 2, [1,3,4]).
?- remove([1,2,3,4], 4, [1,2,3]).

?-min([3,2,1,4,64,6],1).
?-min([3,2,1,4,64,6],X), write(X).

?- sort2([],[]).
?- sort2([4],[4]).
?- sort2([4,3,2,1],[1,2,3,4]).
?- sort2([1,2,3,4],[1,2,3,4]).
?- sort2([4,3,17,5],[3,4,5,17]).
